/* =========================================================
   HK Portal Add-on Styles (Cyber Minimal)
   - Scoped to .hk-*
   - Drop-in safe (no global reset)
   ========================================================= */

:root{
  --hk-bg0: rgba(8, 10, 18, 0.72);
  --hk-bg1: rgba(14, 18, 34, 0.62);
  --hk-line: rgba(140, 220, 255, 0.18);

  --hk-text: rgba(240, 248, 255, 0.92);
  --hk-mute: rgba(240, 248, 255, 0.62);

  --hk-cyan: #6fe7ff;
  --hk-mint: #7cffc9;
  --hk-violet: #b79dff;
  --hk-pink: #ff5de8;

  --hk-glow: 0 0 18px rgba(111, 231, 255, .18), 0 0 40px rgba(183, 157, 255, .08);
  --hk-shadow: 0 12px 40px rgba(0,0,0,.45);

  --hk-r: 18px;
  --hk-pad: 14px;
  --hk-gap: 10px;

  --hk-font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  --hk-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* ---------- Shared shells ---------- */
.hk-status,
.hk-mission{
  font-family: var(--hk-font);
  color: var(--hk-text);
  border-radius: var(--hk-r);
  padding: calc(var(--hk-pad) + 2px);
  background:
    radial-gradient(1100px 520px at 18% 0%, rgba(111,231,255,.10), transparent 60%),
    radial-gradient(900px 520px at 92% 18%, rgba(183,157,255,.10), transparent 55%),
    linear-gradient(180deg, var(--hk-bg0), var(--hk-bg1));
  border: 1px solid var(--hk-line);
  box-shadow: var(--hk-shadow);
  position: relative;
  overflow: hidden;
  isolation: isolate;
  margin: 14px 0;
}

/* subtle scanlines + noise */
.hk-status::before,
.hk-mission::before{
  content:"";
  position:absolute; inset:0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.035) 0px,
      rgba(255,255,255,.035) 1px,
      transparent 1px,
      transparent 6px
    );
  opacity:.18;
  pointer-events:none;
  mix-blend-mode: overlay;
}
.hk-status::after,
.hk-mission::after{
  content:"";
  position:absolute; inset:-2px;
  background:
    linear-gradient(120deg, transparent 35%, rgba(111,231,255,.09), transparent 65%),
    linear-gradient(60deg, transparent 35%, rgba(255,93,232,.06), transparent 70%);
  filter: blur(10px);
  opacity:.55;
  pointer-events:none;
  animation: hkSheen 10s ease-in-out infinite;
}
@keyframes hkSheen{
  0%   { transform: translateX(-8%) translateY(-4%); opacity:.45; }
  50%  { transform: translateX(8%)  translateY(3%);  opacity:.60; }
  100% { transform: translateX(-8%) translateY(-4%); opacity:.45; }
}

/* ---------- Headers ---------- */
.hk-status-head,
.hk-mission-head{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.hk-status-title,
.hk-mission-title{
  letter-spacing: .12em;
  font-weight: 800;
  font-size: 14px;
  text-transform: uppercase;
  font-family: var(--hk-mono);
  color: rgba(240,248,255,.95);
  position: relative;
}

.hk-status-title::after,
.hk-mission-title::after{
  content:"";
  display:block;
  height:2px;
  margin-top: 6px;
  width: 108px;
  background: linear-gradient(90deg, rgba(111,231,255,.75), rgba(183,157,255,.55), transparent);
  box-shadow: var(--hk-glow);
  border-radius: 999px;
}

.hk-status-sub,
.hk-mission-sub{
  font-size: 12px;
  color: var(--hk-mute);
  font-family: var(--hk-mono);
  letter-spacing: .04em;
}

/* ---------- KPI grid ---------- */
.hk-kpis{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--hk-gap);
}

.hk-kpi{
  border-radius: calc(var(--hk-r) - 6px);
  padding: 12px 12px 10px;
  border: 1px solid rgba(140,220,255,.14);
  background:
    radial-gradient(420px 180px at 30% 0%, rgba(111,231,255,.10), transparent 55%),
    linear-gradient(180deg, rgba(12,14,26,.72), rgba(10,10,18,.52));
  box-shadow: 0 0 0 1px rgba(0,0,0,.22) inset;
  position: relative;
}

.hk-kpi::before{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  pointer-events:none;
  background: linear-gradient(135deg, rgba(111,231,255,.14), transparent 55%);
  opacity:.35;
}

.hk-kpi-strong{
  border-color: rgba(183,157,255,.22);
  background:
    radial-gradient(520px 220px at 70% 0%, rgba(183,157,255,.12), transparent 58%),
    linear-gradient(180deg, rgba(16,14,34,.75), rgba(10,10,18,.52));
}

.hk-kpi-label{
  font-size: 12px;
  color: var(--hk-mute);
  letter-spacing: .08em;
  font-family: var(--hk-mono);
}

.hk-kpi-value{
  margin-top: 6px;
  font-size: 20px;
  font-weight: 900;
  letter-spacing: .02em;
  color: rgba(240,248,255,.95);
  text-shadow: 0 0 14px rgba(111,231,255,.12);
}

.hk-kpi-note{
  margin-top: 4px;
  font-size: 12px;
  font-family: var(--hk-mono);
  letter-spacing: .06em;
  color: rgba(111,231,255,.75);
}

.hk-kpi-strong .hk-kpi-note{
  color: rgba(183,157,255,.78);
}

/* ---------- Actions ---------- */
.hk-status-actions{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 12px;
}

.hk-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(111,231,255,.24);
  background:
    linear-gradient(180deg, rgba(12,18,32,.72), rgba(10,10,18,.52));
  color: rgba(240,248,255,.92);
  text-decoration: none;
  font-weight: 800;
  font-size: 13px;
  letter-spacing: .02em;
  box-shadow: 0 0 0 1px rgba(0,0,0,.20) inset, var(--hk-glow);
  position: relative;
  overflow: hidden;
  transition: transform .16s ease, border-color .16s ease, filter .16s ease;
  min-height: 44px; /* tap target */
}

.hk-btn::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(240px 120px at 30% 30%, rgba(111,231,255,.18), transparent 55%),
    radial-gradient(260px 120px at 80% 40%, rgba(255,93,232,.10), transparent 60%);
  opacity:.7;
  filter: blur(10px);
  pointer-events:none;
}

.hk-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(111,231,255,.42);
  filter: brightness(1.04);
}
.hk-btn:active{
  transform: translateY(0px) scale(.99);
}

.hk-btn:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px rgba(0,0,0,.4) inset,
    0 0 0 2px rgba(111,231,255,.35),
    0 0 22px rgba(111,231,255,.18);
}

/* ---------- Mission list ---------- */
.hk-m-list{
  display:flex;
  flex-direction: column;
  gap: 10px;
}

.hk-m-item{
  border-radius: calc(var(--hk-r) - 8px);
  padding: 10px 12px;
  border: 1px solid rgba(140,220,255,.14);
  background:
    linear-gradient(180deg, rgba(12,14,26,.66), rgba(10,10,18,.44));
  box-shadow: 0 0 0 1px rgba(0,0,0,.20) inset;
  position: relative;
  overflow: hidden;
}

.hk-m-item::before{
  content:"";
  position:absolute;
  top:-80px; left:-80px;
  width: 180px; height: 180px;
  background: radial-gradient(circle, rgba(111,231,255,.16), transparent 60%);
  filter: blur(6px);
  opacity:.55;
  pointer-events:none;
}

.hk-m-date{
  font-size: 11px;
  color: rgba(240,248,255,.58);
  font-family: var(--hk-mono);
  letter-spacing: .08em;
}

.hk-m-title{
  margin-top: 2px;
  font-weight: 900;
  font-size: 14px;
  letter-spacing: .02em;
}

.hk-m-body{
  margin-top: 6px;
  font-size: 13px;
  color: rgba(240,248,255,.78);
  line-height: 1.55;
}

.hk-m-link{
  margin-top: 8px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(183,157,255,.28);
  background: linear-gradient(180deg, rgba(18,14,34,.70), rgba(10,10,18,.46));
  color: rgba(240,248,255,.92);
  text-decoration:none;
  font-weight: 900;
  font-family: var(--hk-mono);
  letter-spacing: .08em;
  box-shadow: 0 0 16px rgba(183,157,255,.10);
  transition: transform .16s ease, border-color .16s ease, filter .16s ease;
  min-height: 40px;
}
.hk-m-link:hover{
  transform: translateY(-1px);
  border-color: rgba(183,157,255,.44);
  filter: brightness(1.03);
}
.hk-m-link:active{
  transform: translateY(0px) scale(.99);
}

.hk-m-empty{
  padding: 10px 12px;
  border-radius: calc(var(--hk-r) - 8px);
  border: 1px dashed rgba(140,220,255,.18);
  color: rgba(240,248,255,.62);
  font-size: 13px;
  font-family: var(--hk-mono);
  letter-spacing: .04em;
}

/* ---------- Responsive ---------- */
@media (max-width: 820px){
  .hk-kpis{
    grid-template-columns: 1fr;
  }
  .hk-status-title::after,
  .hk-mission-title::after{
    width: 92px;
  }
}

/* ---------- Reduced motion ---------- */
@media (prefers-reduced-motion: reduce){
  .hk-status::after,
  .hk-mission::after{
    animation: none;
  }
  .hk-btn,
  .hk-m-link{
    transition: none;
  }
}
